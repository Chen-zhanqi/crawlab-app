(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6561f328"],{"1ca11":function(e,t,n){},"46ee":function(e,t,n){},"6cf4":function(e,t,n){},"735d":function(e,t,n){"use strict";var r=n("6cf4"),i=n.n(r);i.a},"838f":function(e,t,n){"use strict";var r=n("1ca11"),i=n.n(r);i.a},8557:function(e,t,n){"use strict";var r=n("46ee"),i=n.n(r);i.a},"9b19":function(e,t,n){e.exports=n.p+"img/logo.915a315e.svg"},"9ed6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("canvas",{attrs:{id:"canvas"}}),r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[r("h3",{staticClass:"title"},[r("span",[r("img",{staticStyle:{width:"48px","margin-bottom":"-5px","margin-right":"2px"},attrs:{src:n("9b19")}})]),e._v("RAWLAB "),r("span",{staticClass:"text-pro"},[e._v("Pro")])]),r("el-form-item",{staticStyle:{"margin-bottom":"28px"},attrs:{prop:"username"}},[r("el-input",{attrs:{name:"username",type:"text","auto-complete":"on",placeholder:e.$t("Username")},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),r("el-form-item",{staticStyle:{"margin-bottom":"28px"},attrs:{prop:"password"}},[r("el-input",{attrs:{type:e.pwdType,name:"password","auto-complete":"on",placeholder:e.$t("Password")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onKeyEnter(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e.isSignUp?r("el-form-item",{staticStyle:{"margin-bottom":"28px"},attrs:{prop:"confirmPassword"}},[r("el-input",{attrs:{type:e.pwdType,name:"password","auto-complete":"on",placeholder:e.$t("Confirm Password")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onKeyEnter(t)}},model:{value:e.loginForm.confirmPassword,callback:function(t){e.$set(e.loginForm,"confirmPassword",t)},expression:"loginForm.confirmPassword"}})],1):e._e(),e.isSignUp?r("el-form-item",{staticStyle:{"margin-bottom":"28px"},attrs:{prop:"email"}},[r("el-input",{attrs:{name:"email",placeholder:e.$t("Email")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onKeyEnter(t)}},model:{value:e.loginForm.email,callback:function(t){e.$set(e.loginForm,"email",t)},expression:"loginForm.email"}})],1):e._e(),r("el-form-item",{staticStyle:{border:"none"}},[e.isSignUp?r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleSignup(t)}}},[e._v(" "+e._s(e.$t("Sign up"))+" ")]):e._e(),e.isSignUp?e._e():r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(" "+e._s(e.$t("Sign in"))+" ")])],1),r("div",{staticClass:"alternatives"},[r("div",{staticClass:"left"},[e.isSignUp?e._e():r("span",{staticClass:"forgot-password"},[e._v(e._s(e.$t("Forgot Password")))])]),"Y"===e.setting.allow_register?r("div",{staticClass:"right"},[e.isSignUp?r("span",[e._v(e._s(e.$t("Has Account"))+", ")]):e._e(),e.isSignUp?r("span",{staticClass:"sign-in",on:{click:function(t){return e.$router.push("/login")}}},[e._v(e._s(e.$t("Sign-in"))+" >")]):e._e(),e.isSignUp?e._e():r("span",[e._v(e._s(e.$t("New to Crawlab"))+", ")]),e.isSignUp?e._e():r("span",{staticClass:"sign-up",on:{click:function(t){return e.$router.push("/signup")}}},[e._v(e._s(e.$t("Sign-up"))+" >")])]):e._e()]),r("div",{staticClass:"tips"},[r("span",[e._v(e._s(e.$t("Initial Username/Password"))+": admin/admin")]),r("a",{staticStyle:{float:"right"},attrs:{href:"https://github.com/crawlab-team/crawlab",target:"_blank"}},[r("img",{attrs:{src:"https://img.shields.io/github/stars/crawlab-team/crawlab?logo=github"}})])]),r("div",{staticClass:"lang"},[r("span",{class:"zh"===e.lang?"active":"",on:{click:function(t){return e.setLang("zh")}}},[e._v("中文")]),e._v(" | "),r("span",{class:"en"===e.lang?"active":"",on:{click:function(t){return e.setLang("en")}}},[e._v("English")])]),r("div",{staticClass:"documentation"},[r("a",{attrs:{href:"http://docs.crawlab.cn",target:"_blank"}},[e._v(e._s(e.$t("Documentation")))])]),e.isShowMobileWarning?r("div",{staticClass:"mobile-warning"},[r("el-alert",{attrs:{type:"error",closable:!1}},[e._v(" "+e._s(e.$t("You are running on a mobile device, which is not optimized yet. Please try with a laptop or desktop."))+" ")])],1):e._e()],1)],1)},i=[],a=(n("b4fb"),n("fe59"),n("ecb4"),n("ea69"),n("1fb3"),n("6a61"),n("cf7f")),s=n("e793"),o=n("9f3a"),l=n("61f7"),c={name:"Login",data:function(){var e=this,t=function(t,n,r){Object(l["b"])(n)?r():r(new Error(e.$t("Please enter the correct username")))},n=function(t,n,r){n.length<5?r(new Error(e.$t("Password length should be no shorter than 5"))):r()},r=function(t,n,r){if(!e.isSignUp)return r();n!==e.loginForm.password?r(new Error(e.$t("Two passwords must be the same"))):r()};return{loginForm:{username:"",password:"",confirmPassword:"",email:""},loginRules:{username:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:n}],confirmPassword:[{required:!0,trigger:"blur",validator:r}]},loading:!1,pwdType:"password",isShowMobileWarning:!1}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(o["c"])("setting",["setting"])),Object(o["c"])("lang",["lang"])),{},{isSignUp:function(){return"/signup"===this.$route.path},redirect:function(){return this.$route.query.redirect}}),mounted:function(){window.innerWidth>=1024?u():this.isShowMobileWarning=!0},methods:{handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.next=5,e.$store.dispatch("user/login",e.loginForm);case 5:if(r=t.sent,200!==r.status){t.next=13;break}return e.$router.push({path:e.redirect||"/"}),e.$st.sendEv("全局","登录","成功"),t.next=11,e.$store.dispatch("user/getInfo");case 11:t.next=14;break;case 13:"Network Error"!==r.message&&r.response?401===r.response.status?(e.$message({type:"error",message:"[401] "+e.$t("Incorrect username or password")}),e.$st.sendEv("全局","登录","用户名密码错误")):(e.$message({type:"error",message:"[".concat(r.response.status,"] ").concat(r.response.data.error),customClass:"message-error"}),e.$st.sendEv("全局","登录","其他错误")):(e.$message({type:"error",message:e.$t("No response from the server. Please make sure your server is running correctly. You can also refer to the documentation to solve this issue."),customClass:"message-error",duration:5e3}),e.$st.sendEv("全局","登录","服务器无响应"));case 14:e.loading=!1;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleSignup:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.loading=!0,e.$store.dispatch("user/register",e.loginForm).then((function(){e.handleLogin(),e.loading=!1,e.$st.sendEv("全局","注册","成功")}))["catch"]((function(t){e.$message.error(e.$t(t)),e.loading=!1,e.$st.sendEv("全局","注册","失败")})))}))},onKeyEnter:function(){var e=this.isSignUp?this.handleSignup:this.handleLogin;e()},setLang:function(e){window.localStorage.setItem("lang",e),this.$set(this.$i18n,"locale",e),this.$store.commit("lang/SET_LANG",e)}}},u=function(){var e=document.getElementById("canvas"),t=e.getContext("2d");function n(){e.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}n(),window.onresize=n;for(var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),i={x:null,y:null,max:2e4},a=[],s=0;s<300;s++){var o=Math.random()*e.width,l=Math.random()*e.height,c=2*Math.random()-1,u=2*Math.random()-1;a.push({x:o,y:l,xa:c,ya:u,max:6e3})}function m(){t.clearRect(0,0,e.width,e.height);var n=[i].concat(a);a.forEach((function(r){r.x+=r.xa,r.y+=r.ya,r.xa*=r.x>e.width||r.x<0?-1:1,r.ya*=r.y>e.height||r.y<0?-1:1,t.fillRect(r.x-.5,r.y-.5,1,1);for(var a=0;a<n.length;a++){var s=n[a];if(r!==s&&null!==s.x&&null!==s.y){var o,l=r.x-s.x,c=r.y-s.y,u=l*l+c*c;u<s.max&&(s===i&&u>s.max/2&&(r.x-=.03*l,r.y-=.03*c),o=(s.max-u)/s.max,t.beginPath(),t.lineWidth=o/2,t.strokeStyle="rgba(64,158,255,"+(o+.1)+")",t.moveTo(r.x,r.y),t.lineTo(s.x,s.y),t.stroke())}}n.splice(n.indexOf(r),1)})),r(m)}setTimeout((function(){m()}),100)},m=c,d=(n("735d"),n("838f"),n("8557"),n("9ca4")),g=Object(d["a"])(m,r,i,!1,null,"61616ae3",null);t["default"]=g.exports}}]);
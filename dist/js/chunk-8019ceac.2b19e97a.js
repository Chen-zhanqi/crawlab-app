(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8019ceac"],{b345:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-dialog",{attrs:{visible:t.dialogVisible,width:"640px","before-close":t.onDialogClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{ref:"projectForm",staticClass:"add-form",attrs:{"label-width":"180px",model:t.projectForm,"inline-message":!0,"label-position":"right"}},[i("el-form-item",{attrs:{label:t.$t("Project Name"),prop:"name",required:""}},[i("el-input",{attrs:{id:"name",placeholder:t.$t("Project Name")},model:{value:t.projectForm.name,callback:function(e){t.$set(t.projectForm,"name",e)},expression:"projectForm.name"}})],1),i("el-form-item",{attrs:{label:t.$t("Project Description"),prop:"description"}},[i("el-input",{attrs:{id:"description",type:"textarea",placeholder:t.$t("Project Description")},model:{value:t.projectForm.description,callback:function(e){t.$set(t.projectForm,"description",e)},expression:"projectForm.description"}})],1),i("el-form-item",{attrs:{label:t.$t("Tags"),prop:"tags"}},[i("el-select",{attrs:{id:"tags",placeholder:t.$t("Enter Tags"),"allow-create":"",filterable:"",multiple:""},model:{value:t.projectForm.tags,callback:function(e){t.$set(t.projectForm,"tags",e)},expression:"projectForm.tags"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:t.onDialogClose}},[t._v(t._s(t.$t("Cancel")))]),i("el-button",{attrs:{id:"btn-submit",size:"small",type:"primary"},on:{click:t.onAddSubmit}},[t._v(t._s(t.$t("Submit")))])],1)],1),i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"left"},[i("el-select",{attrs:{size:"small",placeholder:t.$t("Select Tag")},on:{change:t.onFilterChange},model:{value:t.filter.tag,callback:function(e){t.$set(t.filter,"tag",e)},expression:"filter.tag"}},[i("el-option",{attrs:{value:"",label:t.$t("All Tags")}}),t._l(t.projectTags,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})}))],2)],1),i("div",{staticClass:"right"},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"small"},on:{click:t.onAdd}},[t._v(" "+t._s(t.$t("Add Project"))+" ")])],1)]),i("div",{staticClass:"content"},[0===t.projectList.length?i("div",{staticClass:"empty-list"},[t._v(" "+t._s(t.$t('You have no projects created. You can create a project by clicking the "Add" button.'))+" ")]):i("ul",{staticClass:"list"},t._l(t.projectList.filter((function(t){return"000000000000000000000000"!==t._id})),(function(e){return i("li",{key:e._id,staticClass:"item",on:{click:function(i){return t.onView(e)}}},[i("el-card",{staticClass:"item-card"},[t.isNoProject(e)?t._e():i("i",{staticClass:"btn-edit fa fa-edit",on:{click:function(i){return t.onEdit(e)}}}),t.isNoProject(e)?t._e():i("i",{staticClass:"btn-close fa fa-trash-o",on:{click:function(i){return t.onRemove(e)}}}),i("el-row",[i("h4",{staticClass:"title"},[t._v(t._s(e.name))])]),i("el-row",[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("span",{staticClass:"spider-count"},[t._v(" "+t._s(t.$t("Spider Count"))+": "+t._s(e.spiders.length)+" ")]),i("span",{staticClass:"owner"},[t._v(" "+t._s(e.username)+" ")])])]),i("el-row",{staticClass:"description-wrapper"},[i("div",{staticClass:"description"},[t._v(" "+t._s(e.description)+" ")])]),i("el-row",{staticClass:"tags-wrapper"},[i("div",{staticClass:"tags"},t._l(e.tags,(function(e,s){return i("el-tag",{key:s,staticClass:"tag",attrs:{size:"mini"}},[t._v(" "+t._s(e)+" ")])})),1)])],1)],1)})),0)])],1)},o=[],r=(i("dbb3"),i("1fb3"),i("6a61"),i("cf7f")),a=i("e793"),c=i("9f3a"),n={name:"ProjectList",data:function(){return{defaultTags:[],dialogVisible:!1,isClickAction:!1,filter:{tag:""}}},computed:Object(a["a"])({},Object(c["c"])("project",["projectForm","projectList","projectTags"])),created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("project/getProjectList",t.filter);case 2:return e.next=4,t.$store.dispatch("project/getProjectTags");case 4:case"end":return e.stop()}}),e)})))()},methods:{onDialogClose:function(){this.dialogVisible=!1},onFilterChange:function(){this.$store.dispatch("project/getProjectList",this.filter),this.$st.sendEv("项目","筛选项目")},onAdd:function(){this.isEdit=!1,this.dialogVisible=!0,this.$store.commit("project/SET_PROJECT_FORM",{tags:[]}),this.$st.sendEv("项目","添加项目")},onAddSubmit:function(){var t=this;this.$refs.projectForm.validate((function(e){if(e){var i=JSON.parse(JSON.stringify(t.projectForm));t.isEdit?t.$request.post("/projects/".concat(t.projectForm._id),i).then((function(e){e.data.error?t.$message.error(e.data.error):(t.dialogVisible=!1,t.$store.dispatch("project/getProjectList"),t.$message.success(t.$t("The project has been saved")))})):t.$request.put("/projects",i).then((function(e){e.data.error?t.$message.error(e.data.error):(t.dialogVisible=!1,t.$store.dispatch("project/getProjectList"),t.$message.success(t.$t("The project has been added")))}))}})),this.$st.sendEv("项目","提交项目")},onEdit:function(t){var e=this;this.isClickAction=!0,setTimeout((function(){e.isClickAction=!1}),100),this.$store.commit("project/SET_PROJECT_FORM",t),this.dialogVisible=!0,this.isEdit=!0,this.$st.sendEv("项目","修改项目")},onRemove:function(t){var e=this;this.isClickAction=!0,setTimeout((function(){e.isClickAction=!1}),100),this.$confirm(this.$t("Are you sure to delete the project?"),this.$t("Notification"),{confirmButtonText:this.$t("Confirm"),cancelButtonText:this.$t("Cancel"),type:"warning"}).then((function(){e.$store.dispatch("project/removeProject",t._id).then((function(){setTimeout((function(){e.$store.dispatch("project/getProjectList"),e.$message.success(e.$t("The project has been removed"))}),100)}))}))["catch"]((function(){})),this.$st.sendEv("项目","删除项目")},onView:function(t){this.isClickAction||this.$router.push({name:"SpiderList",params:{project_id:t._id}})},isNoProject:function(t){return"000000000000000000000000"===t._id}}},l=n,d=(i("df20"),i("9ca4")),p=Object(d["a"])(l,s,o,!1,null,"686ddc54",null);e["default"]=p.exports},df20:function(t,e,i){"use strict";var s=i("e7de"),o=i.n(s);o.a},e7de:function(t,e,i){}}]);